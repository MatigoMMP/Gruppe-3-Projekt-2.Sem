#pragma checksum "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ad7e888270f4dff34fb8410c473e4ab81a3ddbd1"
// <auto-generated/>
#pragma warning disable 1591
namespace festivalsql.Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using festivalsql.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using festivalsql.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Npgsql;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/_Imports.razor"
using Microsoft.EntityFrameworkCore;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
using festivalsql.Shared.Models;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/listjobs")]
    public partial class ListJobs : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "listjobs_container");
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "class", "listjobs_header");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "listjobs_list");
            __builder.AddMarkupContent(6, "<h1>Liste over opgaver</h1>");
#nullable restore
#line 10 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
             if (jobs == null)
        {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(7, "<p><em>Loading...</em></p>");
#nullable restore
#line 13 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
        }
        else
        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(8, "table");
            __builder.AddAttribute(9, "class", "table");
            __builder.AddMarkupContent(10, "<thead><tr><th>Detail</th>\n                        <th>Place</th>\n                        <th>Status</th>\n                        <th>Edit</th>\n                        <th>Delete</th></tr></thead>\n                ");
            __builder.OpenElement(11, "tbody");
#nullable restore
#line 27 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                     foreach (var job in jobs)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(12, "tr");
            __builder.OpenElement(13, "td");
#nullable restore
#line 30 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(14, job.opgavedetalje_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\n                        ");
            __builder.OpenElement(16, "td");
#nullable restore
#line 31 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(17, job.placering_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\n                        ");
            __builder.OpenElement(19, "td");
#nullable restore
#line 32 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(20, job.status_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(21, "\n                        ");
            __builder.OpenElement(22, "td");
            __builder.OpenElement(23, "button");
            __builder.AddAttribute(24, "class", "btn btn-sm btn-primary");
            __builder.AddAttribute(25, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 34 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                                               () => GetJob(@job.opgave_id)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(26, "Edit");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\n                        ");
            __builder.OpenElement(28, "td");
            __builder.OpenElement(29, "button");
            __builder.AddAttribute(30, "class", "btn btn-sm btn-primary");
            __builder.AddAttribute(31, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 37 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                                               () => DeleteJob(@job.opgave_id)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(32, "Delete");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 40 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 43 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\n        ");
            __builder.OpenElement(34, "div");
            __builder.AddAttribute(35, "class", "listjobs_detail");
            __builder.AddMarkupContent(36, "<h1 listjobs_h1>Job Details</h1>");
#nullable restore
#line 48 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
             if (jobDetails == null)
            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(37, "<p><em>Loading...</em></p>");
#nullable restore
#line 51 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(38, "table");
            __builder.AddMarkupContent(39, "<thead><tr><th>ID |</th>\n                        <th>Detail</th></tr></thead>\n                ");
            __builder.OpenElement(40, "tbody");
#nullable restore
#line 62 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                     foreach (var jobDetail in jobDetails)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(41, "tr");
            __builder.OpenElement(42, "td");
#nullable restore
#line 65 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(43, jobDetail.opgavedetalje_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\n                        ");
            __builder.OpenElement(45, "td");
#nullable restore
#line 66 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(46, jobDetail.navn);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 68 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "<br>");
            __builder.OpenElement(48, "table");
            __builder.AddMarkupContent(49, "<thead><tr><th>ID |</th>\n                        <th>Place</th></tr></thead>\n                ");
            __builder.OpenElement(50, "tbody");
#nullable restore
#line 82 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                     foreach (var place in places)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(51, "tr");
            __builder.OpenElement(52, "td");
#nullable restore
#line 85 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(53, place.placering_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "\n                        ");
            __builder.OpenElement(55, "td");
#nullable restore
#line 86 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(56, place.navn);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 88 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "<br>");
            __builder.OpenElement(58, "table");
            __builder.AddMarkupContent(59, "<thead><tr><th>ID |</th>\n                        <th>Status</th></tr></thead>\n                ");
            __builder.OpenElement(60, "tbody");
#nullable restore
#line 102 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                     foreach (var status in statuses)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(61, "tr");
            __builder.OpenElement(62, "td");
#nullable restore
#line 105 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(63, status.status_id);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\n                        ");
            __builder.OpenElement(65, "td");
#nullable restore
#line 106 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
__builder.AddContent(66, status.navn);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 108 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 111 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(67, "\n\n    ");
            __builder.OpenElement(68, "div");
            __builder.AddAttribute(69, "class", "listjobs_submit");
            __builder.AddMarkupContent(70, "<h4>Opret opgave</h4>\n\n        ");
            __builder.OpenElement(71, "form");
            __builder.OpenElement(72, "div");
            __builder.AddAttribute(73, "class", "form-group");
            __builder.AddMarkupContent(74, "<label>Detail</label>\n                ");
            __builder.OpenElement(75, "input");
            __builder.AddAttribute(76, "class", "form-control col-sm-3");
            __builder.AddAttribute(77, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 121 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                            newJob.opgavedetalje_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(78, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => newJob.opgavedetalje_id = __value, newJob.opgavedetalje_id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\n            ");
            __builder.OpenElement(80, "div");
            __builder.AddAttribute(81, "class", "form-group");
            __builder.AddMarkupContent(82, "<label>Place</label>\n                ");
            __builder.OpenElement(83, "input");
            __builder.AddAttribute(84, "class", "form-control col-sm-3");
            __builder.AddAttribute(85, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 125 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                            newJob.placering_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(86, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => newJob.placering_id = __value, newJob.placering_id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(87, "\n            ");
            __builder.OpenElement(88, "div");
            __builder.AddAttribute(89, "class", "form-group");
            __builder.AddMarkupContent(90, "<label>Status</label>\n                ");
            __builder.OpenElement(91, "input");
            __builder.AddAttribute(92, "class", "form-control col-sm-3");
            __builder.AddAttribute(93, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 129 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                            newJob.status_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(94, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => newJob.status_id = __value, newJob.status_id));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(95, "\n            ");
            __builder.OpenElement(96, "button");
            __builder.AddAttribute(97, "class", "btn btn-primary");
            __builder.AddAttribute(98, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 131 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                                      SubmitJob

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(99, "Submit");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 138 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                           
        private List<Job> jobs;

        private Job newJob = new Job();

        private bool edit = false;

        protected override async Task OnInitializedAsync()
        {
            jobs = await Http.GetFromJsonAsync<List<Job>>("api/job");

            jobDetails = await Http.GetFromJsonAsync<List<JobDetail>>("api/jobdetail");

            places = await Http.GetFromJsonAsync<List<Place>>("api/jobplace");

            statuses = await Http.GetFromJsonAsync<List<Status>>("api/jobstatus");
        }

        private async Task GetJob(int id)
        {
            newJob = await Http.GetFromJsonAsync<Job>("api/job/detail/" + id);
            edit = true;
        }

        private async Task SubmitJob()
        {
            if (edit == false)
            {
                await Http.PostAsJsonAsync<Job>("api/job/create", newJob);
                await OnInitializedAsync();
            }
            else
            {
                await Http.PutAsJsonAsync<Job>("api/job/edit", newJob);
                edit = false;
                await OnInitializedAsync();
            }
        }

        private async Task DeleteJob(int id)
        {
            await Http.DeleteAsync("api/job/delete" + id);
            await OnInitializedAsync();
        }

        

#line default
#line hidden
#nullable disable
#nullable restore
#line 183 "/Users/jesper/Documents/GitHub/Gruppe-3-Projekt-2.Sem/festivalsql-15-12-2021/festivalsql/Client/Pages/ListJobs.razor"
                                   

        private List<JobDetail> jobDetails;

        private List<Place> places;

        private List<Status> statuses;

    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
